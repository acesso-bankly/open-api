openapi: 3.0.1
info:
	title: 'Entrypoint Invoice'
	version: '1.0'
paths:
	/api/Invoices/document/{documentNumber}/proxy/{proxy}/open:
		get:
			tags:
			- Invoices
			parameters:
			-
				name: documentNumber
				in: path
				required: true
				schema: {type: string, nullable: true}
			-
				name: proxy
				in: path
				required: true
				schema: {type: string, nullable: true}
			-
				name: api-version
				in: header
				schema: {type: string}
			responses:
				'200':
					description: Success
					content: {text/plain: {schema: {$ref: '#/components/schemas/InvoiceDto'}}, application/json: {schema: {$ref: '#/components/schemas/InvoiceDto'}}, text/json: {schema: {$ref: '#/components/schemas/InvoiceDto'}}}
				'400':
					description: 'Bad Request'
					content: {text/plain: {schema: {$ref: '#/components/schemas/Error'}}, application/json: {schema: {$ref: '#/components/schemas/Error'}}, text/json: {schema: {$ref: '#/components/schemas/Error'}}}
				'404':
					description: 'Not Found'
					content: {text/plain: {schema: {$ref: '#/components/schemas/ProblemDetails'}}, application/json: {schema: {$ref: '#/components/schemas/ProblemDetails'}}, text/json: {schema: {$ref: '#/components/schemas/ProblemDetails'}}}
	'/api/Invoices/{StatementId}':
		get:
			tags:
			- Invoices
			parameters:
			-
				name: StatementId
				in: path
				required: true
				schema: {type: integer, format: int32}
			-
				name: api-version
				in: header
				schema: {type: string}
			responses:
				'200':
					description: Success
					content: {text/plain: {schema: {$ref: '#/components/schemas/InvoiceDto'}}, application/json: {schema: {$ref: '#/components/schemas/InvoiceDto'}}, text/json: {schema: {$ref: '#/components/schemas/InvoiceDto'}}}
				'400':
					description: 'Bad Request'
					content: {text/plain: {schema: {$ref: '#/components/schemas/Error'}}, application/json: {schema: {$ref: '#/components/schemas/Error'}}, text/json: {schema: {$ref: '#/components/schemas/Error'}}}
				'404':
					description: 'Not Found'
					content: {text/plain: {schema: {$ref: '#/components/schemas/ProblemDetails'}}, application/json: {schema: {$ref: '#/components/schemas/ProblemDetails'}}, text/json: {schema: {$ref: '#/components/schemas/ProblemDetails'}}}
	'/api/Invoices/document/{documentNumber}/proxy/{proxy}':
		get:
			tags:
			- Invoices
			parameters:
			-
				name: documentNumber
				in: path
				required: true
				schema: {type: string, nullable: true}
			-
				name: proxy
				in: path
				required: true
				schema: {type: string, nullable: true}
			-
				name: initialDate
				in: query
				required: true
				schema: {type: string, format: date-time}
			-
				name: finalDate
				in: query
				required: true
				schema: {type: string, format: date-time}
			-
				name: api-version
				in: header
				schema: {type: string}
			responses:
				'200':
					description: Success
					content: {text/plain: {schema: {$ref: '#/components/schemas/PreviousResumeInvoicesDto'}}, application/json: {schema: {$ref: '#/components/schemas/PreviousResumeInvoicesDto'}}, text/json: {schema: {$ref: '#/components/schemas/PreviousResumeInvoicesDto'}}}
				'204':
					description: Success
				'400':
					description: 'Bad Request'
					content: {text/plain: {schema: {$ref: '#/components/schemas/Error'}}, application/json: {schema: {$ref: '#/components/schemas/Error'}}, text/json: {schema: {$ref: '#/components/schemas/Error'}}}
	'/api/Invoices/document/{documentNumber}/proxy/{proxy}/limits':
		get:
			tags:
			- Invoices
			parameters:
			-
				name: documentNumber
				in: path
				required: true
				schema: {type: string, nullable: true}
			-
				name: proxy
				in: path
				required: true
				schema: {type: string, nullable: true}
			-
				name: api-version
				in: header
				schema: {type: string}
			responses:
				'200':
					description: Success
					content: {text/plain: {schema: {$ref: '#/components/schemas/CreditLimitDto'}}, application/json: {schema: {$ref: '#/components/schemas/CreditLimitDto'}}, text/json: {schema: {$ref: '#/components/schemas/CreditLimitDto'}}}
				'400':
					description: 'Bad Request'
					content: {text/plain: {schema: {$ref: '#/components/schemas/Error'}}, application/json: {schema: {$ref: '#/components/schemas/Error'}}, text/json: {schema: {$ref: '#/components/schemas/Error'}}}
				'404':
					description: 'Not Found'
					content: {text/plain: {schema: {$ref: '#/components/schemas/ProblemDetails'}}, application/json: {schema: {$ref: '#/components/schemas/ProblemDetails'}}, text/json: {schema: {$ref: '#/components/schemas/ProblemDetails'}}}
	'/api/Invoices/{statementId}/payment':
		post:
			tags:
				- Invoices
			parameters:
				-
					name: statementId
					in: path
					required: true
					schema: {type: string, nullable: true}
				-
					name: api-version
					in: header
					schema: {type: string}
			requestBody:
				content:
					application/json-patch+json: {schema: {$ref: '#/components/schemas/CreatePaymentCommand'}}
					application/json: {schema: {$ref: '#/components/schemas/CreatePaymentCommand'}}
					text/json: {schema: {$ref: '#/components/schemas/CreatePaymentCommand'}}
					application/+json: {schema: {$ref: '#/components/schemas/CreatePaymentCommand'}}
			responses:
				'202':
					description: Success
					content: {text/plain: {schema: {$ref: '#/components/schemas/PaymentStatusDto'}}, application/json: {schema: {$ref: '#/components/schemas/PaymentStatusDto'}}, text/json: {schema: {$ref: '#/components/schemas/PaymentStatusDto'}}}
				'400':
					description: 'Bad Request'
					content: {text/plain: {schema: {$ref: '#/components/schemas/Error'}}, application/json: {schema: {$ref: '#/components/schemas/Error'}}, text/json: {schema: {$ref: '#/components/schemas/Error'}}}
				'406':
					description: 'Not Acceptable'
					content: {text/plain: {schema: {$ref: '#/components/schemas/ProblemDetails'}}, application/json: {schema: {$ref: '#/components/schemas/ProblemDetails'}}, text/json: {schema: {$ref: '#/components/schemas/ProblemDetails'}}}
	'/api/Invoices/{statementId}/paymentOptions':
		get:
			tags:
			- Invoices
			parameters:
			-
				name: statementId
				in: path
				required: true
				schema: {type: integer, format: int32}
			-
				name: api-version
				in: header
				schema: {type: string}
			responses:
				'202':
					description: Success
					content: {text/plain: {schema: {type: array, items: {$ref: '#/components/schemas/PaymentOptionsDto'}}}, application/json: {schema: {type: array, items: {$ref: '#/components/schemas/PaymentOptionsDto'}}}, text/json: {schema: {type: array, items: {$ref: '#/components/schemas/PaymentOptionsDto'}}}}
				'400':
					description: 'Bad Request'
					content: {text/plain: {schema: {$ref: '#/components/schemas/Error'}}, application/json: {schema: {$ref: '#/components/schemas/Error'}}, text/json: {schema: {$ref: '#/components/schemas/Error'}}}
				'406':
					description: 'Not Acceptable'
					content: {text/plain: {schema: {$ref: '#/components/schemas/ProblemDetails'}}, application/json: {schema: {$ref: '#/components/schemas/ProblemDetails'}}, text/json: {schema: {$ref: '#/components/schemas/ProblemDetails'}}}
	'/api/Invoices/{statementId}/installments':
		post:
			tags:
			- Invoices
			parameters:
			-
				name: statementId
				in: path
				required: true
				schema: {type: integer, format: int32}
			-
				name: api-version
				in: header
				schema: {type: string}
			requestBody:
				content:
					application/json-patch+json: {schema: {$ref: '#/components/schemas/CreateSimulationOfInstallmentsCommand'}}
					application/json: {schema: {$ref: '#/components/schemas/CreateSimulationOfInstallmentsCommand'}}
					text/json: {schema: {$ref: '#/components/schemas/CreateSimulationOfInstallmentsCommand'}}
					'application/+json': {schema: {$ref: '#/components/schemas/CreateSimulationOfInstallmentsCommand'}}
			responses:
				'202':
					description: Success
					content: {text/plain: {schema: {type: array, items: {$ref: '#/components/schemas/PaymentOptionsInstallmentsDto'}}}, application/json: {schema: {type: array, items: {$ref: '#/components/schemas/PaymentOptionsInstallmentsDto'}}}, text/json: {schema: {type: array, items: {$ref: '#/components/schemas/PaymentOptionsInstallmentsDto'}}}}
				'400':
					description: 'Bad Request'
					content: {text/plain: {schema: {$ref: '#/components/schemas/Error'}}, application/json: {schema: {$ref: '#/components/schemas/Error'}}, text/json: {schema: {$ref: '#/components/schemas/Error'}}}
				'406':
					description: 'Not Acceptable'
					content: {text/plain: {schema: {$ref: '#/components/schemas/ProblemDetails'}}, application/json: {schema: {$ref: '#/components/schemas/ProblemDetails'}}, text/json: {schema: {$ref: '#/components/schemas/ProblemDetails'}}}
components:
    schemas:
        CycleType:
            enum:
                - 1
                - 2
                - 3
                - 4
            type: integer
            format: int32
        StatementPaymentStatus:
            enum:
                - 1
                - 2
                - 3
            type: integer
            format: int32
        CardDto:
            type: object
            properties:
                proxy:
                    type: string
                    nullable: true
                lastFourDigits:
                    type: string
                    nullable: true
                alias:
                    type: string
                    nullable: true
                cardType:
                    type: string
                    nullable: true
            additionalProperties: false
        TransactionInvoiceDto:
            type: object
            properties:
                nsu:
                    type: string
                    nullable: true
                merchant:
                    type: string
                    nullable: true
                mcc:
                    type: string
                    nullable: true
                entrymode:
                    type: string
                    nullable: true
                mcg:
                    type: string
                    nullable: true
                card:
                    $ref: '#/components/schemas/CardDto'
            additionalProperties: false
        AmountType:
            enum:
                - 0
                - 1
                - 2
                - 3
            type: integer
            format: int32
        AmountInvoiceDto:
            type: object
            properties:
                amountType:
                    $ref: '#/components/schemas/AmountType'
                value:
                    type: number
                    format: double
                currency:
                    type: string
                    nullable: true
            additionalProperties: false
        FeeType:
            enum:
                - 0
                - 1
                - 2
                - 3
                - 4
            type: integer
            format: int32
        FeeInvoiceDto:
            type: object
            properties:
                feeType:
                    $ref: '#/components/schemas/FeeType'
                value:
                    type: number
                    format: double
            additionalProperties: false
        ItemInvoiceDto:
            type: object
            properties:
                statementNumber:
                    type: integer
                    format: int32
                statementTotal:
                    type: integer
                    format: int32
                isCredit:
                    type: boolean
                transactionDate:
                    type: string
                    format: date-time
                transactionType:
                    type: string
                    nullable: true
                proxy:
                    type: string
                    nullable: true
                    readOnly: true
                    deprecated: true
                cardLastFourDigits:
                    type: string
                    nullable: true
                    readOnly: true
                    deprecated: true
                cardAlias:
                    type: string
                    nullable: true
                    readOnly: true
                    deprecated: true
                transaction:
                    $ref: '#/components/schemas/TransactionInvoiceDto'
                amounts:
                    type: array
                    items: {$ref: '#/components/schemas/AmountInvoiceDto'}
                    nullable: true
                fees:
                    type: array
                    items: {$ref: '#/components/schemas/FeeInvoiceDto'}
                    nullable: true
                statementItemId:
                    type: integer
                    format: int32
                transactionDescription:
                    type: string
                    nullable: true
            additionalProperties: false
        PaymentType:
            enum:
                - 1
                - 2
                - 3
                - 4
            type: integer
            format: int32
        PaymentOptionType:
            enum:
                - 1
                - 2
            type: integer
            format: int32
        PaymentStatus:
            enum:
                - 1
                - 2
                - 3
            type: integer
            format: int32
        InvoicePaymentDto:
            type: object
            properties:
                paymentId:
                    type: integer
                    format: int32
                paymentOptionId:
                    type: integer
                    format: int32
                externalId:
                    type: string
                    nullable: true
                bankAccount:
                    type: string
                    nullable: true
                paymentBilletId:
                    type: string
                    nullable: true
                bankAgency:
                    type: string
                    nullable: true
                amount:
                    type: number
                    format: double
                dueDate:
                    type: string
                    format: date-time
                paymentOptionType:
                    $ref: '#/components/schemas/PaymentOptionType'
                status:
                    $ref: '#/components/schemas/PaymentStatus'
                digitableLine:
                    type: string
                    nullable: true
                paymentDate:
                    type: string
                    format: date-time
                    nullable: true
                liquidatedPaymentDate:
                    type: string
                    format: date-time
                    nullable: true
                processorPaymentTrackingId:
                    type: string
                    nullable: true
                processorPaymentAuthorizationId:
                    type: string
                    nullable: true
            additionalProperties: false
        CreditLetterType:
            enum:
                - 0
                - 1
            type: integer
            format: int32
        InstallmentDto:
            type: object
            properties:
                creditOfferId:
                    type: integer
                    format: int32
                amortizationAmount:
                    type: number
                    format: double
                currentBalance:
                    type: number
                    format: double
                    nullable: true
                dueBalance:
                    type: number
                    format: double
                dueDate:
                    type: string
                    format: date-time
                interestAmount:
                    type: number
                    format: double
                iofAmount:
                    type: number
                    format: double
                paymentAmount:
                    type: number
                    format: double
                installmentNumber:
                    type: integer
                    format: int32
            additionalProperties: false
        CreditOfferDto:
            type: object
            properties:
                creditOfferId:
                    type: integer
                    format: int32
                externalOperationId:
                    type: string
                    nullable: true
                externalOfferId:
                    type: string
                    nullable: true
                externalOfferType:
                    type: string
                    nullable: true
                amountCurrency:
                    type: string
                    nullable: true
                amountDue:
                    type: number
                    format: double
                annualCet:
                    type: number
                    format: double
                annualInterestRate:
                    type: number
                    format: double
                cet:
                    type: number
                    format: double
                disbursementDate:
                    type: string
                    format: date-time
                externalCreatedAt:
                    type: string
                    format: date-time
                externalExpiresAt:
                    type: string
                    format: date-time
                firstPaymentDate:
                    type: string
                    format: date-time
                graceDays:
                    type: integer
                    format: int32
                lastPaymentDate:
                    type: string
                    format: date-time
                paymentAmount:
                    type: number
                    format: double
                loanAmount:
                    type: number
                    format: double
                monthlyInterestRate:
                    type: number
                    format: double
                openingAccountFee:
                    type: number
                    format: double
                operationCostAmount:
                    type: number
                    format: double
                periodicity:
                    type: string
                    nullable: true
                retentionRate:
                    type: number
                    format: double
                term:
                    type: integer
                    format: int32
                totalInterestAmount:
                    type: number
                    format: double
                totalPaymentAmount:
                    type: number
                    format: double
                iofTotalAmount:
                    type: number
                    format: double
                iofTotalPercentage:
                    type: number
                    format: double
                confirmedOffer:
                    type: boolean
                entryAmount:
                    type: number
                    format: double
                downPayment:
                    type: number
                    format: double
                creditLetterType:
                    $ref: '#/components/schemas/CreditLetterType'
                installments:
                    type: array
                    items: {$ref: '#/components/schemas/InstallmentDto'}
                    nullable: true
            additionalProperties: false
        PaymentOptionsDto:
            type: object
            properties:
                paymentOptionId:
                    type: integer
                    format: int32
                statementId:
                    type: integer
                    format: int32
                paymentType:
                    $ref: '#/components/schemas/PaymentType'
                value:
                    type: number
                    format: double
                payment:
                    type: array
                    items: {$ref: '#/components/schemas/InvoicePaymentDto'}
                    nullable: true
                creditOffer:
                    $ref: '#/components/schemas/CreditOfferDto'
            additionalProperties: false
        InvoiceDto:
            type: object
            properties:
                statementId:
                    type: integer
                    format: int32
                month:
                    type: integer
                    format: int32
                year:
                    type: integer
                    format: int32
                cycle:
                    type: integer
                    format: int32
                cycleCloseDate:
                    type: string
                    format: date-time
                    nullable: true
                dueDateStart:
                    type: string
                    format: date-time
                dueDateEnd:
                    type: string
                    format: date-time
                    nullable: true
                dueDate:
                    type: string
                    format: date-time
                amountMinimal:
                    type: number
                    format: double
                    nullable: true
                balance:
                    type: number
                    format: double
                    nullable: true
                cycleType:
                    $ref: '#/components/schemas/CycleType'
                documentNumber:
                    type: string
                    nullable: true
                paymentStatus:
                    $ref: '#/components/schemas/StatementPaymentStatus'
                statementItens:
                    type: array
                    items: {$ref: '#/components/schemas/ItemInvoiceDto'}
                    nullable: true
                paymentOptions:
                    type: array
                    items: {$ref: '#/components/schemas/PaymentOptionsDto'}
                    nullable: true
            additionalProperties: false
        LayerEnum:
            enum:
                - 0
                - 1
                - 2
                - 3
                - 4
                - 5
            type: integer
            format: int32
        Error:
            type: object
            properties:
                code:
                    type: string
                    nullable: true
                message:
                    type: string
                    nullable: true
                layer:
                    $ref: '#/components/schemas/LayerEnum'
                applicationName:
                    type: string
                    nullable: true
            additionalProperties: false
        ProblemDetails:
            type: object
            properties:
                type:
                    type: string
                    nullable: true
                title:
                    type: string
                    nullable: true
                status:
                    type: integer
                    format: int32
                    nullable: true
                detail:
                    type: string
                    nullable: true
                instance:
                    type: string
                    nullable: true
            additionalProperties:
                type: object
                additionalProperties: false
        InvoiceResumeDto:
            type: object
            properties:
                statementId:
                    type: integer
                    format: int32
                month:
                    type: integer
                    format: int32
                year:
                    type: integer
                    format: int32
                cycle:
                    type: integer
                    format: int32
                dueDate:
                    type: string
                    format: date-time
                amountMinimal:
                    type: number
                    format: double
                balance:
                    type: number
                    format: double
                cycleType:
                    $ref: '#/components/schemas/CycleType'
                paymentStatus:
                    $ref: '#/components/schemas/StatementPaymentStatus'
                paymentTotalAmount:
                    type: number
                    format: double
                    nullable: true
            additionalProperties: false
        PreviousResumeInvoicesDto:
            type: object
            properties:
                statements:
                    type: array
                    items: {$ref: '#/components/schemas/InvoiceResumeDto'}
                    nullable: true
            additionalProperties: false
        CreditLimitDto:
            type: object
            properties:
                totalCreditLimit:
                    type: number
                    format: double
                availableLimit:
                    type: number
                    format: double
            additionalProperties: false
        CreatePaymentCommand:
            type: object
            properties:
                paymentType:
                    $ref: '#/components/schemas/PaymentType'
                value:
                    type: number
                    format: double
                paymentOptionId:
                    type: integer
                    format: int32
                    nullable: true
            additionalProperties: false
        PaymentStatusDto:
            type: object
            properties:
                status:
                    type: string
                    nullable: true
                digitableLine:
                    type: string
                    nullable: true
                authenticationCode:
                    type: string
                    nullable: true
            additionalProperties: false
        CreateSimulationOfInstallmentsCommand:
            type: object
            properties:
                minTerm:
                    type: integer
                    format: int32
                maxTerm:
                    type: integer
                    format: int32
            additionalProperties: false
        PaymentOptionsInstallmentsDto:
            type: object
            properties:
                paymentOptionId:
                    type: integer
                    format: int32
                statementId:
                    type: integer
                    format: int32
                paymentType:
                    $ref: '#/components/schemas/PaymentType'
                value:
                    type: number
                    format: double
                creditOffer:
                    $ref: '#/components/schemas/CreditOfferDto'
            additionalProperties: false
